<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="rdm-10238" author="daniel.lysiak1@hmcts.net">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from complex_field
                where reference = 'OrganisationName'
                and field_type_id = (select id from field_type where reference = 'Text' and version = 1 and jurisdiction_id is null)
                and complex_field_type_id = (select id from field_type where reference = 'Organisation' and version = 1 and jurisdiction_id is null);
            </sqlCheck>
        </preConditions>
    
        <sql>
            insert into complex_field (reference, label, security_classification, field_type_id, complex_field_type_id)
            values ('OrganisationName', 'Name', 'PUBLIC',
                (select id from field_type where reference = 'Text' and version = 1 and jurisdiction_id is null),
                (select id from field_type where reference = 'Organisation' and version = 1 and jurisdiction_id is null));
        </sql>
    </changeSet>
</databaseChangeLog>
