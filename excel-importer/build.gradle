dependencyCheck {
    suppressionFile = "${rootDir}/dependency-check-suppressions.xml"
}

jar {
    enabled = true
    archiveFileName = 'definition-store-excel-importer'
}

evaluationDependsOn(':domain')

compileTestJava.dependsOn tasks.getByPath(':domain:testClasses')

dependencies {
    implementation project(':domain')
    implementation project(':rest-api')
    implementation project(':repository')

    // need these for command line to pass in the gradle version,
    // intellij does not need the next 2 lines though
    testImplementation project(path: ':domain', configuration: 'testOutput')
    testImplementation project(":domain").sourceSets.main.output
    testImplementation project(':repository')
    testImplementation project(":repository").sourceSets.main.output
    testImplementation project(":repository").sourceSets.test.output

    implementation "org.springframework.boot:spring-boot-starter-web"
    implementation "org.apache.commons:commons-collections4:4.1"
    implementation "org.apache.commons:commons-lang3:3.11"
    // Purposefully capping the version of org.apache.poi:poi-ooxml to 4.1.2 to avoid issue
    // NoSuchMethodError: org.apache.commons.io.IOUtils.byteArray() from commons-io:commons-io
    implementation "org.apache.poi:poi-ooxml:4.1.2"
}

bootJar {
    enabled = false
}
