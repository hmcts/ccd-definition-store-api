# Testcontainers database configuration
spring.datasource.driver-class-name=org.testcontainers.jdbc.ContainerDatabaseDriver
spring.datasource.url=jdbc:tc:postgresql:15:///ccd_definition

# Allow bean overriding for test configurations
spring.main.allow-bean-definition-overriding=true

# Remove JPA exclusions to allow real database operations
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration,org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration,org.springdoc.core.configuration.SpringDocConfiguration,org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration,uk.gov.hmcts.reform.idam.client.config.IdamClientAutoConfiguration

# Disable security and other non-essential components
spring.security.oauth2.client.registration=
spring.security.oauth2.client.provider=
spring.security.oauth2.client.provider.oidc.issuer-uri=
spring.flyway.enabled=false
management.health.elasticsearch.enabled=false
management.endpoints.enabled-by-default=false
springdoc.api-docs.enabled=false
springdoc.swagger-ui.enabled=false
management.endpoint.health.enabled=false
management.endpoint.info.enabled=false

# Elasticsearch configuration
elasticsearch.host=localhost
elasticsearch.port=9200
elasticsearch.scheme=http
elasticsearch.enabled=true
elasticsearch.indexShards=8
elasticsearch.indexShardsReplicas=3
elasticsearch.failImportIfError=true
elasticsearch.dynamic=true
